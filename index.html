<script> document.getElementById('updated').textContent = 'Init OK – läser nyheter…'; async function load() { try { const url = '/sportportal-start/data/news.json?v=' + Date.now(); const res = await fetch(url); if (!res.ok) throw new Error('HTTP ' + res.status); const data = await res.json(); document.getElementById('updated').textContent = 'Senast uppdaterad: ' + new Date(data.generatedAt).toLocaleString('sv-SE'); const map = [ ['frolunda','list-frolunda'], ['brynas','list-brynas'], ['v75','list-v75'], ['stryktipset','list-stryktipset'] ]; for (const [key, ulId] of map) { const ul = document.getElementById(ulId); ul.innerHTML = ''; const items = data.items?.[key] || []; if (!items.length) { ul.innerHTML = '<li class="muted">Inga rubriker ännu.</li>'; continue; } for (const it of items.slice(0, 12)) { const li = document.createElement('li'); const a = document.createElement('a'); a.href = it.sourceUrl; a.target = '_blank'; a.rel = 'noopener'; a.textContent = (it.title || '(utan titel)') + ' — ' + (it.source || ''); li.appendChild(a); ul.appendChild(li); } } } catch (e) { document.getElementById('updated').textContent = 'Fel vid läsning av data: ' + e.message; } } load(); </script>
