<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Sportportalen – Frölunda, Brynäs, V75, Stryktipset</title>
  <style>
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:#0d1117; color:#e6edf3 }
    .wrap { max-width: 1100px; margin: 0 auto; padding: 16px }
    header { display:flex; align-items:end; justify-content:space-between; gap:12px; margin-bottom:16px }
    h1 { margin:0; font-size: 28px }
    .muted { color:#9da7b3; font-size:13px }
    .grid { display:grid; gap:16px; grid-template-columns:1fr }
    @media (min-width: 800px) { .grid { grid-template-columns:1fr 1fr } }
    .card { background:#161b22; border:1px solid #30363d; border-radius:14px; padding:16px }
    .card h2 { margin:0 0 10px 0; font-size:18px }
    ul { margin:0; padding-left: 18px }
    li { margin: 6px 0 }
    a { color:#79c0ff; text-decoration: none }
    a:hover { text-decoration: underline }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Sport<b style="color:#ff4757">portalen</b></h1>
      <p class="muted" id="updated">Uppdaterar…</p>
    </header>

    <main class="grid">
      <section class="card"><h2>Ishockey – Frölunda HC</h2><ul id="list-frolunda"><li class="muted">Laddar…</li></ul></section>
      <section class="card"><h2>Ishockey – Brynäs IF</h2><ul id="list-brynas"><li class="muted">Laddar…</li></ul></section>
      <section class="card"><h2>V75 / Trav</h2><ul id="list-v75"><li class="muted">Laddar…</li></ul></section>
      <section class="card"><h2>Stryktipset</h2><ul id="list-stryktipset"><li class="muted">Laddar…</li></ul></section>
    </main>
  </div>

  <script>
    async function load() {
      try {
        const res = await fetch('data/news.json', { cache: 'no-store' });
        const data = await res.json();
        document.getElementById('updated').textContent =
          'Senast uppdaterad: ' + new Date(data.generatedAt).toLocaleString('sv-SE');

        const map = [
          ['frolunda','list-frolunda'],
          ['brynas','list-brynas'],
          ['v75','list-v75'],
          ['stryktipset','list-stryktipset']
        ];

        for (const [key, ulId] of map) {
          const ul = document.getElementById(ulId);
          ul.innerHTML = '';
          const items = data.items[key] || [];
          if (!items.length) { ul.innerHTML = '<li class="muted">Inga rubriker ännu.</li>'; continue; }
          for (const it of items.slice(0, 12)) {
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = it.sourceUrl; a.target = '_blank'; a.rel = 'noopener';
            a.textContent = (it.title || '(utan titel)') + ' — ' + (it.source || '');
            li.appendChild(a);
            ul.appendChild(li);
          }
        }
      } catch {
        document.getElementById('updated').textContent = 'Kunde inte läsa data/news.json (förväntat första gången).';
      }
    }
    load();
  </script>
</body>
</html>

